"use strict";(self.webpackChunkcompress2go=self.webpackChunkcompress2go||[]).push([[2269],{18839:function(e,t,r){r.d(t,{x7:function(){return A},IE:function(){return P}});r(74916),r(15306),r(4723);var i=r(23091),n=r(82017),o=r(72997),a=r(87506),s=(r(69826),r(41539),r(68917)),l=r(56413),u=r(90375);function p(e){this._isValid=!0,this._rawData={},(0,l.dA)(e)?this._rawData=e:this._isValid=!1}p.prototype.isValid=function(){return this._isValid},p.prototype.getId=function(){return(0,i.GY)(this._isValid),this._rawData.id},p.prototype.getSize=function(){return(0,i.GY)(this._isValid),this._rawData.size},p.prototype.getStatus=function(){return(0,i.GY)(this._isValid),(0,n.cV)(this._rawData.status),this._rawData.status},p.prototype.isFinished=function(){return(0,i.GY)(this._isValid),this._rawData.status===u.dp};r(47941);function d(e){if(!(0,o.Rb)(e))return e;try{var t=JSON.parse(e);if((0,o.jV)(t))return a.P.log("qgApiHelper server response was fixed",JSON.stringify(e)),t}catch(e){}return a.P.log("qgApiHelper server response was not fixed",JSON.stringify(e)),e}var c=r(74336),f=r(38232),g=r(19755);function h(e){var t=null;try{t=e.responseText,e.responseJSON&&(t=e.responseJSON)}catch(e){}return t}function v(e,t){this.api=e,this.baseUrlApi=f.f.getApiUrl(),(0,o.Rt)(t.baseUrlApi)&&(this.baseUrlApi=t.baseUrlApi)}v.prototype.createJob=function(e){var t=this.api;(0,o.jV)(e)||(e={});var r=g.extend({},t.baseAjaxOptions);r.url=this.baseUrlApi+"/api/jobs?async=true",r.data=e;var i=g.Deferred(),n=this;return t.ajaxWrapper.postJson(r).done((function(e,r,o){e=d(e),n.getJobInfoUntilStatus(e.sat.id_job,"incomplete",10,!0).done((function(r){var n=new s.S(r);if(!n.isValid())return a.P.log("qgApiHelper createJob fail broken response",{info:"response: "+JSON.stringify(e)}),void i.reject(c.FK);var o=r,l=n.getId();t.jobCache.setData(l,o),a.P.addLogData("job_id",l),a.P.log("qgApiHelper createJob done"),i.resolve(o)})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper createJob fail - payment required"),void i.reject(c.lV,t);i.reject(c.QG)}))})).fail((function(e,t,r){if(402===e.status)return a.P.log("qgApiHelper createJob fail - payment required"),void i.reject(c.lV,h(e));i.reject(c.QG)})),i},v.prototype.getJobInfo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.A2)(e);var n=this.api,o=g.Deferred(),s=g.extend({},n.baseAjaxOptions);s.url=this.baseUrlApi+"/api/jobs/"+e,!0===t&&!1===r&&(s.url+="?async=true"),!0===r&&(s.url+="?sync=true"),n.numberOfCurrentJobInfoRequests.hasOwnProperty(e)||(n.numberOfCurrentJobInfoRequests[e]=0),n.numberOfCurrentJobInfoRequests[e]++;return n.ajaxWrapper.get(s).done((function(t,r,i){n.numberOfCurrentJobInfoRequests[e]--;var a=t=d(t);n.jobCache.setData(e,a),o.resolve(a)})).fail((function(t,r,i){return n.numberOfCurrentJobInfoRequests[e]--,402===t.status?(a.P.log("qgApiHelper getJobInfo fail payment required",t.status),void o.reject(c.lV,h(t))):404===t.status?(a.P.log("qgApiHelper getJobInfo fail job not found",t.status),void o.reject(c.ZH)):(a.P.log("qgApiHelper getJobInfo fail connection problem",t.status),void o.reject(c.QG))})),o},v.prototype.getJobInfoUntilStatus=function(e,t,r,n){(0,i.A2)(e),(0,o.vV)(n)&&(n=!0),(0,o.uC)(r)||(r=5),(0,i.VW)(r),(0,i.GY)(r>0);var s=g.Deferred(),l=0,u=this;return function i(){if(l>r)return a.P.log("qgApiHelper getJobInfoUntilStatus fail - no more retries"),void s.reject(c.db);u.getJobInfo(e,n).done((function(e){if(e.status.code!==t){"init"===e.status.code&&200,l++,setTimeout(i,100)}else s.resolve(e)})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper getJobInfoWithRetries getJobInfo fail - payment required",e),void s.reject(c.lV,t);l++,setTimeout(i,2e3)}))}(),s},v.prototype.getJobInfoWithRetries=function(e,t){(0,i.A2)(e),(0,o.uC)(t)||(t=5),(0,i.VW)(t),(0,i.GY)(t>0);var r=g.Deferred(),n=0,s=this;return function i(){if(n>t)return a.P.log("qgApiHelper getJobInfoWithRetries fail - no more retries"),void r.reject(c.db);s.getJobInfo(e).done((function(e){r.resolve(e)})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper getJobInfoWithRetries getJobInfo fail - payment required"),void r.reject(c.lV,t);n++,setTimeout(i,2e3)}))}(),r},v.prototype.addInput=function(e,t){(0,i.A2)(e),(0,i.u)(t),(0,i.zr)(t),(0,i.gA)(t,"type");var r=this.api,n=g.Deferred(),o=g.extend({},r.baseAjaxOptions);o.url=this.baseUrlApi+"/api/jobs/"+e+"/input",o.data=t;return r.ajaxWrapper.postJson(o).done((function(e,t,r){var i=e=d(e);a.P.log("qgApiHelper addJobInput done",JSON.stringify(i)),n.resolve(i)})).fail((function(e,t,r){return 0===e.status?(a.P.log("qgApiHelper addJobInput fail connection problem",e.status),void n.reject(c.QG)):402===e.status?(a.P.log("qgApiHelper addJobInput fail payment required"),void n.reject(c.lV,h(e))):(a.P.log("qgApiHelper addJobInput fail connection problem",e.status),void n.reject(c.D$))})),n},v.prototype.addInputWithCheck=function(e,t,r){(0,i.A2)(e),(0,i.u)(t),(0,i.zr)(t),(0,i.gA)(t,"type"),(0,i.VW)(r),(0,i.GY)(r>=0);var n=g.Deferred(),o=0,s=this;function l(){if(o>5)return a.P.log("qgApiHelper addInputWithCheck fail - too many retries"),void n.reject(c.db);s.addInput(e,t).done((function(t){s.getJobInfoUntilInputCount(e,r+1).done((function(){n.resolve(t)})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper addInputWithCheck fail - payment required"),void n.reject(c.lV,t);a.P.log("qgApiHelper addInputWithCheck fail",e),n.reject(c.D$)}))})).fail((function(t,i){if(t!==c.QG){if(t===c.lV)return a.P.log("qgApiHelper addInputWithCheck fail - payment required"),void n.reject(c.lV,i);a.P.log("qgApiHelper addInputWithCheck fail"),n.reject(t)}else s.getJobInfoWithRetries(e,3).done((function(e){var t=e.input.length;return t===r?(a.P.log("qgApiHelper addInputWithCheck retry"),void setTimeout(l,2e3)):t===r+1?(a.P.log("qgApiHelper addInputWithCheck done - with retry"),void n.resolve(e.input[t-1])):(a.P.log("qgApiHelper addInputWithCheck fail","wrong number of inputs"),void n.reject(c.D$))})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper addInputWithCheck fail - payment required"),void n.reject(c.lV,t);a.P.log("qgApiHelper addInputWithCheck fail",e),n.reject(c.D$)}))})),o++}return l(),n},v.prototype.addInputs=function(e,t){(0,i.A2)(e),(0,i.u)(t);var r=this.api,n=g.Deferred(),s=g.extend({},r.baseAjaxOptions);s.url=this.baseUrlApi+"/api/jobs/"+e+"/input",s.data=t;return r.ajaxWrapper.postJson(s).done((function(e,r,i){var s=e=d(e);if(!new p((0,o.Hm)(s)?s[0]:s).isValid())return a.P.log("qgApiHelper addJobInput fail broken response",{info:"response: "+JSON.stringify(s)}),void n.reject(c.FK);a.P.log("qgApiHelper addJobInput done",JSON.stringify(t)),n.resolve(s)})).fail((function(e,t,r){if(402===e.status)return a.P.log("qgApiHelper addJobInput fail payment required"),void n.reject(c.lV,h(e));a.P.log("qgApiHelper addJobInput fail connection problem",e.status),n.reject(c.QG)})),n},v.prototype.addConversion=function(e,t){(0,i.A2)(e),(0,i.u)(t);var r=this.api,n=g.Deferred(),s=g.extend({},r.baseAjaxOptions);s.url=this.baseUrlApi+"/api/jobs/"+e+"/conversions",s.data=t;return r.ajaxWrapper.postJson(s).done((function(e,r,i){e=d(e),a.P.log("qgApiHelper addConversion done",JSON.stringify(t)),n.resolve(e)})).fail((function(e,t,r){var i=function(e){if(!(0,o.jV)(e))return null;if(!(0,o.jV)(e.responseJSON))return null;var t=e.responseJSON;return(0,o.fN)(t,"code")&&(0,o.fN)(t,"message")?{code:t.code,message:t.message}:null}(e);if(i){if(2===i.code)return a.P.log("qgApiHelper addConversion fail - invalid conversion option",{http_status:e.status,info:"conversion options: "+JSON.stringify(s)}),void n.reject(c.cM);if(2002===i.code)return a.P.log("qgApiHelper addConversion fail - job can not be modified",{http_status:e.status,info:"conversion options: "+JSON.stringify(s)}),void n.reject(c.$7)}return 0===e.status?(a.P.log("qgApiHelper addConversion fail - connection problem",e.status),void n.reject(c.QG)):402===e.status?(a.P.log("qgApiHelper addConversion fail - payment required"),void n.reject(c.lV,h(e))):(a.P.log("qgApiHelper addConversion fail - unknown",e.status),void n.reject(c.D$))})),n},v.prototype.addConversionWithCheck=function(e,t){(0,i.A2)(e);var r=g.Deferred(),n=this,s=0;function l(){if(s>5)return a.P.log("qgApiHelper addConversionWithCheck fail - too many retries"),void r.reject(c.db);n.addConversion(e,t).done((function(e){r.resolve(e)})).fail((function(t,i){if(t===c.lV)return a.P.log("qgApiHelper addConversionWithCheck fail - payment required"),void r.reject(c.lV,i);t===c.QG||t===c.D$?n.getJobInfoWithRetries(e,5).done((function(e){if((0,o.Hm)(e.conversion)){if(0===e.conversion.length)return a.P.log("qgApiHelper addConversionWithCheck retry - no conversion"),void setTimeout(l,2e3);if(1===e.conversion.length)return a.P.log("qgApiHelper addConversionWithCheck done - after fail"),void r.resolve(e.conversion[0]);a.P.log("qgApiHelper addConversionWithCheck fail - too many conversions"),r.reject(c.D$)}})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper addConversionWithCheck fail - payment required"),void r.reject(c.lV,t);a.P.log("qgApiHelper addConversionWithCheck fail - fail in getjobinfo"),r.reject(c.D$)})):r.reject(t)})),s++}return l(),r},v.prototype.startJob=function(e,t){(0,i.A2)(e);var r=g.Deferred();return r.reject(c.DC),r},v.prototype.deleteInput=function(e,t){(0,i.A2)(e),(0,i.A2)(t);var r=this.api,n=g.Deferred(),o=g.extend({},r.baseAjaxOptions);o.url=this.baseUrlApi+"/api/jobs/"+e+"/input/"+t+"/delete",o.data=g.extend({},r.baseData);return r.ajaxWrapper.postJson(o).done((function(e,r,i){e=d(e),a.P.log("qgApiHelper deleteInput done",t),n.resolve(e)})).fail((function(e,t,r){if(402===e.status)return a.P.log("qgApiHelper deleteInput fail payment required",e.status),void n.reject(c.lV,h(e));a.P.log("qgApiHelper deleteInput fail connection problem",e.status),n.reject(c.QG)})),n},v.prototype.deleteInputAndWait=function(e,t){var r=this;(0,i.A2)(e),(0,i.A2)(t);this.api;var n=g.Deferred();return this.deleteInput(e,t).done((function(){r.getJobInfoUntilInputIsDeleted(e,t).done((function(){n.resolve()})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper delete input and wait fail - payment required"),void n.reject(c.lV,t);a.P.log("qgApiHelper delete input and wait fail connection problem",e),n.reject(c.QG)}))})).fail((function(e,t){if(a.P.log("qgApiHelper delete input and wait fail connection problem",e),e===c.lV)return a.P.log("qgApiHelper addConversionWithCheck fail - payment required"),void n.reject(c.lV,t);n.reject(c.QG)})),n},v.prototype.setPassword=function(e,t,r){(0,i.A2)(e),(0,i.A2)(t);var n=g.Deferred(),o=this.api,s=this,l=0,u=g.extend({},o.baseData,{credentials:{decrypt_password:r}}),p=g.extend({},o.baseAjaxOptions);return p.url=this.baseUrlApi+"/api/jobs/"+e+"/input/"+t+"/patch",p.data=u,this.getJobInfoUntilInput(e,t).done((function(r){l=r.modified_at,o.ajaxWrapper.postJson(p).done((function(r,i,o){r=d(r),a.P.log("qgApiHelper set password done",t),s.getUpdatedInput(e,t,l).done((function(e){a.P.log("qgApiHelper set password finished",t),n.resolve(e)})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper set password fail  payment required"),void n.reject(c.lV,t);a.P.log("qgApiHelper set password fail connection problem",e),n.reject(c.QG)}))})).fail((function(e,t,r){if(402===e.status)return a.P.log("qgApiHelper set password fail payment required",e.status),void n.reject(c.lV,h(e));a.P.log("qgApiHelper set password fail connection problem",e.status),n.reject(c.QG)}))})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper set password fail  payment required"),void n.reject(c.lV,t);a.P.log("qgApiHelper set password fail connection problem",e),n.reject(c.QG)})),n},v.prototype.getJobInfoUntilInput=function(e,t){var r=g.Deferred(),i=this,n=0;return function o(){i.getJobInfo(e).done((function(e){var i=e.input.find((function(e,r,i){return e.id===t}));void 0===i?(n>60&&r.reject(c.db),++n,setTimeout(o,1e3)):r.resolve(i)})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper getJobInfoUntilInput fail  payment required"),void r.reject(c.lV,t);a.P.log("qgApiHelper getJobInfoUntilInput fail connection problem",e),r.reject(c.QG)}))}(),r},v.prototype.getJobInfoUntilInputIsDeleted=function(e,t){var r=g.Deferred(),i=this,n=0;return function o(){i.getJobInfo(e).done((function(e){void 0!==e.input.find((function(e,r,i){return e.id===t}))?(n>60&&r.reject(c.db),++n,setTimeout(o,1e3)):r.resolve()})).fail((function(e,t){a.P.log("qgApiHelper getJobInfoUntilInputIsDeleted connection problem",e),r.reject(c.QG)}))}(),r},v.prototype.getJobInfoUntilInputCount=function(e,t){var r=g.Deferred(),i=this,n=0,o=0;return function s(){i.getJobInfo(e).done((function(e){o=0,e.input.length>=t?r.resolve(e):n>60?r.reject(c.db):(++n,setTimeout(s,1e3))})).fail((function(e,t){return e===c.lV?(a.P.log("qgApiHelper getJobInfoUntilInputCount fail payment required"),void r.reject(c.lV,t)):o<30?(o++,void setTimeout(s,3e3)):(a.P.log("qgApiHelper getJobInfoUntilInputCount fail",e),void r.reject(c.QG))}))}(),r},v.prototype.getJobInfoUntilAtLeastOneInput=function(e){var t=g.Deferred(),r=this,i=0;return function n(){r.getJobInfo(e).done((function(e){e.input.length>=1?t.resolve(e):i>60?t.reject(c.db):(++i,setTimeout(n,1e3))})).fail((function(e,r){if(e===c.lV)return a.P.log("qgApiHelper getJobInfoUntilAtLeastOneInput fail payment required"),void t.reject(c.lV,r);a.P.log("qgApiHelper getJobInfoUntilAtLeastOneInput fail",e),t.reject(c.QG)}))}(),t},v.prototype.getUpdatedInput=function(e,t,r){var i=g.Deferred(),n=this,o=0;return function s(){n.getJobInfo(e).done((function(e){var n=e.input.find((function(e,r,i){return e.id===t}));n.modified_at>r?i.resolve(n):o>60?i.reject(c.db):(++o,setTimeout(s,1e3))})).fail((function(e,t){if(e===c.lV)return a.P.log("qgApiHelper get updated input fail payment required"),void i.reject(c.lV,t);a.P.log("qgApiHelper get updated input fail connection problem",e),i.reject(c.QG)}))}(),i};var b=r(27489);function y(e){(0,i.VW)(e),this.maxCacheTimeSeconds=e,this.data={}}y.prototype.setData=function(e,t){(0,i.LJ)(e),(0,i.kM)(t),(0,i.mR)(t),this.data[e]={time_ms:Date.now(),data:t}},y.prototype.getData=function(e){return(0,i.LJ)(e),this.data.hasOwnProperty(e)?!((Date.now()-this.data[e].time_ms)/1e3>this.maxCacheTimeSeconds)&&this.data[e].data:null},y.prototype.getDataEvenIfTooOld=function(e){return(0,i.LJ)(e),this.data.hasOwnProperty(e)?this.data[e].data:null};var m=r(17105),I=r(19755);function A(e){(0,o.vV)(e)&&(e={}),this.baseApiData=null,(0,o.jV)(e.baseApiData)&&(this.baseApiData=e.baseApiData),this.baseUrlApi=null,(0,o.Rt)(e.baseUrlApi)&&(this.baseUrlApi=e.baseUrlApi),this.paymentRequiredCallback=null,(0,o.Cj)(e.paymentRequiredCallback)&&(this.paymentRequiredCallback=e.paymentRequiredCallback)}function j(e,t){(0,i.LJ)(e),this.apiHelper=new v(this,t),(0,i.kM)(this.apiHelper,'type must be "sat" or "oc"'),this.ajaxWrapper=new b.F,this.jobCache=new y(2),this.numberOfCurrentJobInfoRequests={},this.baseData={},(0,o.jV)(t.baseApiData)&&(this.baseData=t.baseApiData),this.baseAjaxOptions={dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},cache:!1,maxRetries:3,retryTimeout:!0,retry400:!1,retry500:!0,retryOther:!0}}j.prototype.createJob=function(e){var t=this.apiHelper;try{return t.createJob(e)}catch(e){a.P.log("qgApiHelper exception",e)}var r=I.Deferred();return r.reject(c.hI),r},j.prototype.createJobWithUploadServerCheck=function(e,t){(0,o.uC)(t)||(t=1);var r=I.Deferred(),i=this,n=0;function s(){i.apiHelper.createJob(e).done((function(e){!function(e){i.checkUploadServer(e.server).done((function(){var t=!0;r.resolve(e,t)})).fail((function(i,o){if(i!==c.lV)if(n>=t){a.P.log("qgApiHelper createJob info","no upload server found");var l=!1;r.resolve(e,l)}else{var u=1e4,p=1e3*++n;p>u&&(p=u),setTimeout((function(){s()}),p)}else r.reject(c.lV,o)}))}(e)})).fail((function(e,t){(0,m.T)(e),r.reject(e,t)}))}return s(),r},j.prototype.checkUploadServer=function(e,t){(0,i.LJ)(e),(0,o.uC)(t)||(t=0);e.replace(/(\/dl.*)/,"/dl/alive"),Date.now();var r=I.Deferred();return r.resolve()},j.prototype.getJobInfo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.A2)(e);var n=this.apiHelper;try{return n.getJobInfo(e,t,r)}catch(e){a.P.log("qgApiHelper exception",e)}var o=I.Deferred();return o.reject(c.hI),o},j.prototype.getJobInfoUntilStatus=function(e,t,r,n){(0,i.A2)(e);var o=this.apiHelper;try{return o.getJobInfoUntilStatus(e,t,r,n)}catch(e){a.P.log("qgApiHelper exception",e)}var s=I.Deferred();return s.reject(c.hI),s},j.prototype.getJobInfoWithRetries=function(e,t){(0,i.A2)(e),(0,o.uC)(t)||(t=5),(0,i.VW)(t),(0,i.GY)(t>0);var r=this.apiHelper;try{return r.getJobInfoWithRetries(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.getCachedJobInfo=function(e){(0,i.A2)(e);var t=this.jobCache.getData(e);(0,i.kM)(t),this.numberOfCurrentJobInfoRequests.hasOwnProperty(e)||(this.numberOfCurrentJobInfoRequests[e]=0);var r=this.numberOfCurrentJobInfoRequests[e]>0;if(!1===t&&!r)return this.getJobInfo(e);var n=this.jobCache.getDataEvenIfTooOld(e),o=I.Deferred();return o.resolve(n),o},j.prototype.addInput=function(e,t){(0,i.A2)(e),(0,i.u)(t);var r=this.apiHelper;try{return r.addInput(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.addInputWithCheck=function(e,t,r){(0,i.A2)(e),(0,i.u)(t),(0,i.VW)(r),(0,i.GY)(r>=0);var n=this.apiHelper;try{return n.addInputWithCheck(e,t,r)}catch(e){a.P.log("qgApiHelper exception",e)}var o=I.Deferred();return o.reject(c.hI),o},j.prototype.addInputsWithCheck=function(e,t,r){(0,i.A2)(e),(0,i.bG)(t),(0,i.GY)(t.length>0),(0,i.VW)(r),(0,i.GY)(r>=0);this.apiHelper;var n=this,o=I.Deferred(),s=0,l=t.length,u=r;return function r(){n.addInputWithCheck(e,t[s],u).done((function(){s++,u++,s>=l?o.resolve():setTimeout(r,200)})).fail((function(e,t){a.P.log("qgApiHelper addInputsWithCheck fail",e),o.reject(e,t)}))}(),o},j.prototype.addInputs=function(e,t){(0,i.A2)(e);var r=this.apiHelper;try{return r.addInputs(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.addInputId=function(e,t){(0,i.A2)(e),(0,i.A2)(t);var r={type:"input_id",source:t};return this.addInput(e,r)},j.prototype.addExternalUrl=function(e,t,r){(0,i.A2)(e),(0,i.LJ)(t),(0,o.vV)(r)&&(r="auto");var n={type:"remote",source:t,engine:r};return this.addInput(e,n)},j.prototype.addConversion=function(e,t){(0,i.A2)(e);var r=this.apiHelper;try{return r.addConversion(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.addConversionWithCheck=function(e,t){(0,i.A2)(e);var r=this.apiHelper;try{return r.addConversionWithCheck(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.startJob=function(e,t){(0,i.A2)(e);var r=this.apiHelper;try{return r.startJob(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.deleteInput=function(e,t){(0,i.A2)(e),(0,i.A2)(t);var r=this.apiHelper;try{return r.deleteInput(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.deleteInputAndWait=function(e,t){(0,i.A2)(e),(0,i.A2)(t);var r=this.apiHelper;try{return r.deleteInputAndWait(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.setPassword=function(e,t,r){(0,i.A2)(e),(0,i.A2)(t),(0,i.pX)(r);var n=this.apiHelper;try{return n.setPassword(e,t,r)}catch(e){a.P.log("qgApiHelper exception",e)}var o=I.Deferred();return o.reject(c.hI),o},j.prototype.getJobInfoUntilInputCount=function(e,t){(0,i.A2)(e);var r=this.apiHelper;try{return r.getJobInfoUntilInputCount(e,t)}catch(e){a.P.log("qgApiHelper exception",e)}var n=I.Deferred();return n.reject(c.hI),n},j.prototype.getJobInfoUntilAtLeastOneInput=function(e){(0,i.A2)(e);var t=this.apiHelper;try{return t.getJobInfoUntilAtLeastOneInput(e)}catch(e){a.P.log("qgApiHelper exception",e)}var r=I.Deferred();return r.reject(c.hI),r},j.prototype.waitForRemoteInput=function(e,t){(0,i.A2)(e),(0,i.A2)(t);var r=this,o=I.Deferred(),l=Date.now();function p(){var e=(Date.now()-l)/1e3,t=5e3;e<10?t=1e3:e<30?t=2e3:e<60&&(t=3e3),setTimeout(f,t)}function d(r){var i=(Date.now()-l)/1e3,n=new s.S(r),d=n.getInput(t);if(null===d)return i>10&&a.P.log("qgApiHelper waitForRemoteInput info",{info:"input id missing from job",input_id:t,job_id:e,job_info:JSON.stringify(r),duration_s:i}),void p();if(n.isInputDownloading(t))p();else{if(n.isInputReady(t))return o.resolve(d),void a.P.log("qgApiHelper waitForRemoteInput done",{input_id:t,job_id:e,duration_s:i});var f={code:0,message:"should never happen"},g=n.getInputError(t),h=n.getInputWarning(t);null!==g?f=g:null!==h?f=h:d.status===u.V5?f={code:0,message:"server response is missing input warnings and input errrors"}:d.status===u.s8&&(f={code:0,message:"input was canceled"});var v=function(r,i,n){a.P.log("qgApiHelper waitForRemoteInput fail",{info:JSON.stringify(r),input_id:t,job_id:e,job_info:JSON.stringify(i),duration_s:n});var o=c.D$;return 50===r.code||34===r.code?o=c.sZ:10===r.code&&(o=c.u7),(0,m.T)(o),o}(f,r,i);(0,m.T)(v),o.reject(v)}}function f(){r.getCachedJobInfo(e).done((function(e){(0,n.dI)(e),d(e)})).fail((function(r,i){(0,m.T)(r),r!==c.lV?(a.P.log("qgApiHelper waitForRemoteInput retry",{info:"error: "+r,job_id:e,input_id:t}),p()):o.reject(r,i)}))}return f(),o},j.prototype.savePreset=function(e){var t=this.apiHelper;try{return t.savePreset(e)}catch(e){a.P.log("qgApiHelper exception",e)}var r=I.Deferred();return r.reject(c.hI),r},j.prototype.waitForCompletedJob=function(e){var t=I.Deferred(),r=Date.now(),i=0;var n=this;return function o(){i>5?t.reject(c.db):n.getJobInfoWithRetries(e,3).done((function(i){var n=Date.now()-r,s=i.status.code;if("completed"!==s){if("failed"===s)return a.P.log("qgApiHelper waitForCompletedJob - job is failed",{job_id:e}),void t.reject(c.rt);if(("incomplete"===s||"ready"===s)&&n>4e3)return a.P.log("qgApiHelper waitForCompletedJob - job has unextected status",{job_id:e,info:"status: "+s}),void t.reject(c.rt);var l=function(e){var t=500;return e>2e3&&(t=1e3),e>5e3&&(t=2e3),e>1e4&&(t=3e3),t}(n);setTimeout(o,l)}else t.resolve(i)})).fail((function(e,r){e!==c.lV?(i++,setTimeout(o,5e3)):t.reject(c.lV,r)}))}(),t},j.prototype.createJobAndConversion=function(e,t){var r=I.Deferred(),i=this;return this.createJob(e).done((function(e){i.addConversionWithCheck(e.id,t).done((function(t){r.resolve(e)})).fail((function(e,t){e!==c.lV?r.reject(c.D$,t):r.reject(c.lV,t)}))})).fail((function(e,t){e!==c.lV?r.reject(c.D$,t):r.reject(c.lV,t)})),r},j.prototype.createThumbnailFromInputId=function(e,t){var r=I.Deferred();(0,o.vV)(t)&&(t=200);var i={category:"operation",target:"thumbnail",options:{thumbnail_target:"jpg",width:t,allow_multiple_outputs:!0,pages:"1"}},n=this;return this.createJobAndConversion({operation:"thumbnail system"},i).done((function(t){n.addInputId(t.id,e).done((function(e){n.waitForCompletedJob(t.id).done((function(e){r.resolve(e.output[0].uri)})).fail((function(e,t){e!==c.lV?r.reject(c.D$):r.reject(c.lV,t)}))})).fail((function(e,t){e!==c.lV?r.reject(c.D$):r.reject(c.lV,t)}))})).fail((function(e,t){e!==c.lV?r.reject(c.D$):r.reject(c.lV,t)})),r};var P=function(e){return(0,i.u)(e),new j("sat",e)}},11279:function(e,t,r){r.d(t,{Gm:function(){return l},X2:function(){return a},sD:function(){return s}});r(19601);var i=r(39883),n=["#f5bf00","#e88800","#e10337","#ba0263","#873f95","#3c70b3","#04ac80","#88c15f"],o=["#d50000","#d32f2f","#e53935","#f44336","#ef5350","#e57373","#ef9a9a","#ffcdd2","#4a148c","#6a1b9a","#7b1fa2","#8e24aa","#9c27b0","#ab47bc","#ba68c8","#ce93d8"];function a(e){var t=document.getElementById(e).getBoundingClientRect().x/window.innerWidth,r=Date.now()+750,o={decay:.93,scalar:.6,disableForReducedMotion:!0,colors:n,zIndex:1e4,particleCount:8};!function e(){(0,i.Z)(Object.assign({},o,{angle:65,spread:45,origin:{x:t,y:1}})),(0,i.Z)(Object.assign({},o,{angle:115,spread:45,origin:{x:1,y:1}})),Date.now()<r&&requestAnimationFrame(e)}()}function s(){var e=Date.now()+2e3,t={startVelocity:10,spread:360,ticks:60,disableForReducedMotion:!0,colors:o,zIndex:1e4};function r(e,t){return Math.random()*(t-e)+e}var n=setInterval((function(){var o=e-Date.now();if(o<=0)return clearInterval(n);var a=o/2e3*50;(0,i.Z)(Object.assign({},t,{particleCount:a,origin:{x:r(.1,.4),y:Math.random()-.2}})),(0,i.Z)(Object.assign({},t,{particleCount:a,origin:{x:r(.6,.9),y:Math.random()-.2}}))}),250)}function l(){var e={angle:270,scalar:.6,disableForReducedMotion:!0,colors:n,zIndex:1e4,origin:{y:-.1}};function t(t,r){(0,i.Z)(Object.assign({},e,r,{particleCount:Math.floor(200*t)}))}t(.25,{spread:26,startVelocity:55}),t(.2,{spread:60}),t(.35,{spread:100,decay:.91,scalar:.8}),t(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),t(.1,{spread:120,startVelocity:45})}},80385:function(e,t,r){r.d(t,{L:function(){return g}});r(66992),r(41539),r(78783),r(4129),r(33948),r(96649),r(96078),r(82526),r(41817),r(9653),r(69070),r(32165);var i=r(72997),n=r(39843),o=(r(37618),r(46362)),a=r(38232);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(n=i.key,o=void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"),"symbol"===s(o)?o:String(o)),i)}var n,o}function u(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function p(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,r)}var d=new WeakMap,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,d,{get:f,set:void 0})}var t,r,o;return t=e,(r=[{key:"openOnPage",value:function(e){return p(this,d).openOnPage(e)}},{key:"openLogin",value:function(){return this.openOnPage(n._.LOGIN)}},{key:"openRegister",value:function(){return this.openOnPage(n._.REGISTER)}},{key:"openUpgrade",value:function(){return a.f.isMultipleProductsEnabled()?this.openOnPage(n._.REGISTER_PLAN_CREDITS_SELECT):this.openOnPage(n._.REGISTER_PLAN_SELECT)}},{key:"openForPricingFree",value:function(){return p(this,d).setSkipPayment(!0),this.openRegister()}},{key:"openForPricingPremium",value:function(e){var t,r,i,o;return p(this,d).setSkipPlanSelect(!0),p(this,d).setSelectedBilling(null!==(t=null==e?void 0:e.billing)&&void 0!==t?t:null),p(this,d).setSelectedPlan(null!==(r=null==e?void 0:e.plan)&&void 0!==r?r:"individual"),p(this,d).setSelectedProduct(null!==(i=null==e?void 0:e.product)&&void 0!==i?i:"pro"),p(this,d).setSelectedSize(null!==(o=null==e?void 0:e.size)&&void 0!==o?o:null),this.openOnPage(n._.REGISTER_CHOOSE_BILLING)}},{key:"isOpen",value:function(){return(0,i.Rt)(p(this,d).getOpenPage)}},{key:"isSubmitting",value:function(){return p(this,d).getSubmitting}}])&&l(t.prototype,r),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(){return(0,o.y)()}r.g.gRegisterPaymentModalHelper||(r.g.gRegisterPaymentModalHelper=new c);var g=r.g.gRegisterPaymentModalHelper},90674:function(e,t,r){r.d(t,{$:function(){return o}});var i=r(72997),n=r(23091);function o(e,t,r,o){return(0,n.LJ)(e),(0,n.u)(t),(0,n.t9)(t.toLocaleDateString),(0,i.vV)(r)&&(r={}),(0,i.vV)(o)&&(o=!1),"en"===e&&o&&(e="en-GB"),t.toLocaleDateString(e,r)}},4638:function(e,t,r){r.d(t,{D:function(){return s}});var i=r(72997),n=r(87506),o=r(38232),a=JSON.parse('{"en":{"/login":"/login","/register":"/register","/user/dashboard":"/user/dashboard","/user/payment/history":"/user/payment/history","/user/social":"/user/social","/help":"/help","/logout":"/logout"},"de":{"/login":"/de/einloggen","/register":"/de/registrierung","/user/dashboard":"/de/user/dashboard","/user/payment/history":"/de/user/payment/history","/user/social":"/de/user/social","/help":"/de/hilfe","/logout":"/de/logout"},"es":{"/login":"/es/entrar","/register":"/es/registro","/user/dashboard":"/es/user/dashboard","/user/payment/history":"/es/user/payment/history","/user/social":"/es/user/social","/help":"/es/ayuda","/logout":"/es/logout"},"ar":{"/login":"/ar/login","/register":"/ar/register","/user/dashboard":"/ar/user/dashboard","/user/payment/history":"/ar/user/payment/history","/user/social":"/ar/user/social","/help":"/ar/help","/logout":"/ar/logout"},"fr":{"/login":"/fr/connexion","/register":"/fr/enregistrer","/user/dashboard":"/fr/user/dashboard","/user/payment/history":"/fr/user/payment/history","/user/social":"/fr/user/social","/help":"/fr/aide","/logout":"/fr/logout"},"zh":{"/login":"/zh/login","/register":"/zh/register","/user/dashboard":"/zh/user/dashboard","/user/payment/history":"/zh/user/payment/history","/user/social":"/zh/user/social","/help":"/zh/help","/logout":"/zh/logout"},"ru":{"/login":"/ru/login","/register":"/ru/register","/user/dashboard":"/ru/user/dashboard","/user/payment/history":"/ru/user/payment/history","/user/social":"/ru/user/social","/help":"/ru/help","/logout":"/ru/logout"},"pt":{"/login":"/pt/iniciar-sessao","/register":"/pt/cadastrar-se","/user/dashboard":"/pt/user/dashboard","/user/payment/history":"/pt/user/payment/history","/user/social":"/pt/user/social","/help":"/pt/ajuda","/logout":"/pt/logout"},"vi":{"/login":"/vi/login","/register":"/vi/register","/user/dashboard":"/vi/user/dashboard","/user/payment/history":"/vi/user/payment/history","/user/social":"/vi/user/social","/help":"/vi/help","/logout":"/vi/logout"},"id":{"/login":"/id/masuk","/register":"/id/daftar","/user/dashboard":"/id/user/dashboard","/user/payment/history":"/id/user/payment/history","/user/social":"/id/user/social","/help":"/id/bantuan","/logout":"/id/logout"},"it":{"/login":"/it/accedi","/register":"/it/iscriviti","/user/dashboard":"/it/user/dashboard","/user/payment/history":"/it/user/payment/history","/user/social":"/it/user/social","/help":"/it/aiuto","/logout":"/it/logout"},"hi":{"/login":"/hi/login","/register":"/hi/register","/user/dashboard":"/hi/user/dashboard","/user/payment/history":"/hi/user/payment/history","/user/social":"/hi/user/social","/help":"/hi/help","/logout":"/hi/logout"}}');function s(e){var t=o.f.getLocale();(0,i.fN)(a,t)||(n.P.log("get sat path fail - unsupported locale",JSON.stringify(t)),t="en");var r=a[t];return(0,i.fN)(r,e)?e=r[e]:"logout"===e||"/logout"===e||n.P.log("get sat path fail - missing path for locale",{locale:t,path:e}),e}},27572:function(e,t,r){r.d(t,{Z:function(){return o}});var i=function(){var e=this,t=e._self._c;return t("button",{staticClass:"position-relative",attrs:{disabled:e.isStateLoading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("click",t)}}},[e.isStateLoading?t("span",{staticClass:"position-absolute d-flex top-0 left-0 h-100 w-100 align-items-center justify-content-center"},[t("i",{staticClass:"fa fa-spin btn-loading-animation"})]):e._e(),e._v(" "),e.icon&&!e.showIconAfterText?t("span",{class:{"opacity-0":e.isStateLoading}},[t("i",{class:e.icon})]):e._e(),e._v(" "),t("span",{class:{"opacity-0":e.isStateLoading}},[e._v("\n        "+e._s(e.text)+"\n    ")]),e._v(" "),e.icon&&e.showIconAfterText?t("span",{class:{"opacity-0":e.isStateLoading}},[t("i",{class:e.icon})]):e._e()])};i._withStripped=!0;var n={name:"ButtonWithLoadingState",props:{isStateLoading:{type:Boolean,default:!1},icon:{type:String,default:""},text:{type:String,required:!0},showIconAfterText:{type:Boolean,default:!1}}},o=(0,r(51900).Z)(n,i,[],!1,null,null,null).exports},27511:function(e,t,r){r.d(t,{Z:function(){return s}});r(68309);var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"d-flex w-100 align-items-center",class:{"justify-content-center":"center"===e.align,"justify-content-start":"left"===e.align}},[t("div",{staticClass:"p-1 d-flex align-items-center"},[t("input",{ref:"field",staticClass:"vuetiful-input",class:{"vuetiful-input-error":e.hasError},attrs:{id:e.fieldId,name:e.name,type:"checkbox",disabled:e.disabled},domProps:{checked:e.fieldValue},on:{input:function(t){return t.stopPropagation(),t.preventDefault(),e.updateValue.apply(null,arguments)},focus:e.onFocus,blur:e.onBlur}})]),e._v(" "),e.hasLabelSlot||e.label?[t("label",{staticClass:"m-l-5 mt-0 mb-0 font-weight-normal vuetiful-label d-flex align-items-center",class:{"text-muted":e.disabled},attrs:{for:e.fieldId}},[e.hasLabelSlot?e._t("default"):[e._v(e._s(e.label))]],2)]:e._e()],2),e._v(" "),t("Transition",{attrs:{name:"fade-grow"}},[e.hasError&&e.currentError?t("div",{staticClass:"mt-2 vuetiful-input-error-text d-flex align-items-center",class:{"text-center":"center"===e.align,"text-left":"left"===e.align}},[t("i",{staticClass:"fa fa-exclamation-circle m-r-5 p-1 pr-0 p-t-0 p-b-0"}),e._v(" "+e._s(e.currentError)+"\n        ")]):e._e()])],1)};i._withStripped=!0;r(26699);var n=r(17183),o=r(72997),a={name:"SimpleCheckbox",props:{name:{type:String,required:!0},value:{type:Boolean,default:!1},label:{type:String,default:""},disabled:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},currentError:{type:String,default:""},align:{type:String,default:"center",validator:function(e){return["left","center"].includes(e)}}},mixins:[n.Z],mounted:function(){if(this.fieldId=this.generateId(),this.value)this.fieldValue=this.value;else{var e=this.$refs.field.checked;(0,o.b_)(e)&&(this.fieldValue=e)}},computed:{hasLabelSlot:function(){return!!this.$slots.default}},watch:{fieldValue:function(e){this.$emit("input",e)}},methods:{updateValue:function(e){this.fieldValue=e.target.checked},onFocus:function(){this.isFocused=!0},onBlur:function(){this.isFocused=!1}},data:function(){return{fieldValue:!1,fieldId:null,isFocused:!1}}},s=(0,r(51900).Z)(a,i,[],!1,null,null,null).exports},6598:function(e,t,r){r.d(t,{Z:function(){return s}});r(68309);var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"d-flex w-100",class:{"vuetiful-input-focus":e.isFocused&&!e.hasError&&!e.aiCustom,"text-muted":e.disabled,"vuetiful-input-error":e.hasError,"border bg-white rounded":!e.aiCustom}},[t("div",{staticClass:"position-relative d-flex align-items-center w-100"},[e.label?t("label",{staticClass:"pl-1 position-absolute top-0 mt-0 mb-2 left-0 font-weight-normal vuetiful-label d-flex mt-2",class:{"vuetiful-label-small":!e.showPlaceholderLabel,"font-size-125":e.aiCustom},attrs:{for:e.fieldId,id:"text-area-label"}},[e._v(e._s(e.label))]):e._e(),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],ref:"field",staticClass:"pl-1 no-border no-bg w-100 mt-1",class:{"vuetiful-input":!e.aiCustom,"vuetiful-ai-input":e.aiCustom},attrs:{maxlength:e.maxCharacters,rows:e.rows,id:e.fieldId,name:e.name},domProps:{value:e.fieldValue},on:{focus:e.onFocus,blur:e.onBlur,input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"text-right",class:{"pr-1 mb-2":e.aiCustom}},[e._v(e._s(e.inputLength)+" / "+e._s(e.maxCharacters))]),e._v(" "),t("Transition",{attrs:{name:"fade-grow"}},[e.hasError&&e.currentError?t("div",{staticClass:"mt-2 vuetiful-input-error-text"},[e._v("\n            "+e._s(e.currentError)+"\n        ")]):e._e()])],1)};i._withStripped=!0;r(9653),r(73210);var n=r(72997),o=r(17183),a={name:"TextArea",props:{name:{type:String,required:!0},value:{type:String,default:""},label:{type:String,default:""},rows:{type:String,default:"5"},disabled:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},aiCustom:{type:Boolean,default:!1},currentError:{type:String,default:""},maxCharacters:{type:Number},id:{type:String,default:""}},mixins:[o.Z],mounted:function(){if(this.fieldId=this.generateId(),(0,n.Rt)(this.id)&&(this.fieldId=this.id),this.value)this.fieldValue=this.value;else{var e=this.$refs.field.value;(0,n.Rt)(e)&&(0,n.Rt)(e.trim())&&(this.fieldValue=e.trim())}},watch:{fieldValue:function(e){this.$emit("input",e),this.inputLength=this.fieldValue.length}},computed:{hasFieldValue:function(){return(0,n.Rt)(this.fieldValue)&&(0,n.Rt)(this.fieldValue.trim())},showPlaceholderLabel:function(){return!this.isFocused&&!this.hasFieldValue}},methods:{onFocus:function(){if(this.aiCustom)return!1;this.isFocused=!0},onBlur:function(){this.isFocused=!1}},data:function(){return{fieldValue:"",fieldType:"",fieldId:null,isFocused:!1,inputLength:0}}},s=(0,r(51900).Z)(a,i,[],!1,null,null,null).exports}}]);